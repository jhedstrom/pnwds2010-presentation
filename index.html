<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
        <!-- Slide meta data, remove/edit as you see fit -->
        <title>Serve Everybody - Strategies for helping your clients participate in open source</title>
        <meta name="generator" content="Organic" />
        <meta name="author" content="Jonathan Hedstrom" />
        <meta name="author" content="Marcus Estes" />
        <meta name="company" content="OpenSourcery" />
        <meta name="email" content="jhedstrom@opensourcery.com" />
        <meta name="presdate" content="2010-10-03" />
        <!-- Slippy core file and dependencies -->
        <script type="text/javascript" src="jquery-1.4.2.min.js"></script>
        <script type="text/javascript" src="jquery.history.js"></script>
        <script type="text/javascript" src="slippy-0.9.0.js"></script>
        <!-- Slippy structural styles -->
        <link type="text/css" rel="stylesheet" href="slippy-0.9.0.css"/>
        <!-- Slippy theme -->
        <link type="text/css" rel="stylesheet" href="slippy-dark.css"/>
        <!-- Syntax highlighting core file  -->
        <script type="text/javascript" src="highlighter/shCore.js"></script>
        <!-- Syntax highlighting brushes, remove those you don't need -->
        <script type="text/javascript" src="highlighter/shBrushBash.js"></script>
        <script type="text/javascript" src="highlighter/shBrushCss.js"></script>
        <script type="text/javascript" src="highlighter/shBrushDiff.js"></script>
        <script type="text/javascript" src="highlighter/shBrushJScript.js"></script>
        <script type="text/javascript" src="highlighter/shBrushPhp.js"></script>
        <script type="text/javascript" src="highlighter/shBrushPlain.js"></script>
        <script type="text/javascript" src="highlighter/shBrushSql.js"></script>
        <script type="text/javascript" src="highlighter/shBrushXml.js"></script>
        <!-- Syntax highlighting styles-->
        <link type="text/css" rel="stylesheet" href="highlighter/shCore.css"/>
        <link type="text/css" rel="stylesheet" href="highlighter/shThemeEmacs.css"/>
        <!-- Slippy init code -->
        <script type="text/javascript">
            $(function() {
                $(".slide").slippy({
                    // settings go here
                    // possible values are:
                    //  - animLen, duration for default animations (0 = disabled)
                    //  - animInForward, receives a slide and animates it
                    //  - animInRewind, receives a slide and animates it
                    //  - animOutForward, receives a slide and animates it
                    //  - animOutRewind, receives a slide and animates it
                    //  - baseWidth, defines the base for img resizing, if you don't want only
                    //    full-width images, specify this as the pixel width of a slide so that
                    //    images are scaled properly (default is 620px wide)
                    //  - ratio, defines the width/height ratio of the slides, defaults to 1.3 (620x476)
                });
                SyntaxHighlighter.all();
            });
        </script>
        <!-- Custom style for this deck -->
        <style type="text/css">
            .slide.nochrome {
                border: 0;
                background: 0;
            }
        </style>
    </head>
    <body>

	<!-- Lyrics -->

        <div class="slide big">
	  <p>"You may be an ambassador to England or France<br/>
You may like to gamble, you might like to dance<br/>
You may be the heavyweight champion of the world<br/>
You may be a socialite with a long string of pearls<br/>
<br/>
But you’re gonna have to serve somebody, yes indeed<br/>
You’re gonna have to serve somebody."</p>
        </div>

	<!-- Bobby -->

        <div class="slide big">
        <img src="images/dylan.jpeg" alt="dylan" width="459" height="500" />
        </div>

	<!-- Intro -->

        <div class="slide big">
	  <h1>Serve Everybody</h1>
	  <h3>Strategies for helping your clients participate in the open source community</h3>
        </div>

        <div class="slide">
            <h1>Introductions</h1>
            <h2>Marcus Estes</h2>
            <ul>
              <li>popmechanic on d.o.</li>
              <li><em>@</em>marcusestes</li>
            </ul>
	    <h2>Jonathan Hedstrom</h2>
	    <ul>
	      <li>jhedstrom on drupal.org</li>
	      <li><em>@</em>jhedstro</li>
	    </ul>
	    <div class="center">
	      <img src="images/opensourcery.png" alt="opensourcery" width="477px"/>
	    </div>
        </div>

	<!-- Two components -->
        <div class="slide big">
            <h1>There are two components to this "release more client code" strategy:</h1>
        </div>


        <div class="slide big">
            <h1>And they are:</h1>
            <ol>
              <li>Business development and legal strategies</li>
              <li>Technical and process-oriented strategies</li>
            </ol>
        </div>


	<!-- Begin with business -->

        <div class="slide big">
            <h1>Let's begin where all client work begins. With the business side.</h1>
        </div>

	<!-- Help create requirements -->

        <div class="slide big">
            <h1>Don't just <i>capture</i> requirements.</h1>
	    
            <h1>Help <b>create</b> them.</h1>
        </div>


	<!-- Complexity is the enemy -->

        <div class="slide big">
            <h1>If you want to release useful code, you've got to collaborate with your clients to keep organization-specific requirements to a minimum.</h1>
        </div>


        <div class="slide big">
            <h1>This is good for your clients. Chances are, they can't afford the complexity that they desire.</h1>
        </div>


        <div class="slide big">
            <h1>Talk them down by proposing simpler solutions. Be creative.</h1>
        </div>

	<!-- Make the business case -->

        <div class="slide big">
            <h1>Be forthright about your release strategy. Make the case:</h1>
            <ol>
              <li>Releasing code will induce others to help you support it.</li>
              <li>Beloved modules get version updates. If it just sits on your server, you'll have to pay for the upgrade.</li>
              <li>If you're lucky, you'll get free feature enhancements.</li>
	    </ol>
        </div>


	<!-- Legal -->

        <div class="slide big">
            <h1>Create a solid legal foundation for your release</h1>
            <ol>
              <li>Retain ownership.</li>
              <li>Release to your client under an open license.</li>
              <li>Sounds crazy, but it works.</li>
	    </ol>
        </div>

        <div class="slide big">
            <h1>Meet objections:</h1>
            <ol>
              <li>If you want to incorporate your own code, you can't assign them ownership of it.</li>
              <li>This is just the way the open source industry works.</li>
              <li>Consider non-competes. But there should be a termination date. (And double your rate.)</li>
	    </ol>
        </div>

	<!-- Summary of developer workflows and practices -->
        <div class="slide big">
            <h1>Development practices that encourage the release of code</h1>
            <ol>
              <li>Workflow that encourages or <em>requires</em> pushing patches upstream</li>
              <li>Well crafted features</li>
	      <li>Reusable themes</li>
	      <li>Installation profiles</li>
	      <li>Putting it all together</li>
            </ol>
        </div>

	<div class="slide big">
	  <h1>There will always be bugs</h1>
	  <h4>(and missing features)</h4>
	</div>

	<div class="slide">
	  <h1>drush make</h1>
	  <pre class="brush: bash">
projects[views][subdir] = "contrib"
projects[views][version] = "2.11"
; http://drupal.org/node/862072
projects[views][patch][] = "http://drupal.org/files/issues/views.862072.patch"
	  </pre>
	</div>

	<div class="slide">
	  <h1>docs directory</h1>
	  <pre class="brush">
.htaccess
README.txt
vertical_tabs.626126.patch
views.862072-7.patch
	  </pre>
	</div>

	<div class="slide big">
	  <h1>Well crafted features</h1>
	</div>

	<div class="slide">
	  <h1>Avoid forking features on a per-project basis</h1>
	  <h4>Instead, consider using alter hooks when possible</h4>
	</div>

	<div class="slide big">
	  <h1>Reusable themes</h1>
	  <h4>(sub sub themes!)</h4>
	</div>

	<div class="slide big">
	  <h1>Build installation profiles</h1>
	  <h4>(until the last possible moment)</h4>
	</div>

	<div class="slide small">
	  <pre class="brush: php">
	      if ($task == 'profile') {
   // Insert default user-defined node types into the database. For a complete
    // list of available node type attributes, refer to the node type API
    // documentation at: http://api.drupal.org/api/HEAD/function/hook_node_info.
    $types = array(
      array(
        'type' => 'page',
        'name' => st('Page'),
        'module' => 'node',
        'description' => st("A <em>page</em> is a simple method for creating and displaying information that rarely changes, such as an \"Abo
ut us\" section of a website. By default, a <em>page</em> entry does not allow visitor comments and is not featured on the site's initial hom
e page."),
        'custom' => TRUE,
        'modified' => TRUE,
        'locked' => FALSE,
        'help' => '',
        'min_word_count' => '',
      ),
    );

    foreach ($types as $type) {
      $type = (object) _node_type_set_defaults($type);
      node_type_save($type);
    }

    // Default page to not be promoted, and have comments disabled, and create new revisions.
    variable_set('node_options_page', array('status', 'revision'));
    variable_set('comment_page', COMMENT_NODE_DISABLED);

    // Don't display date and author information for page nodes by default.
    $theme_settings = variable_get('theme_settings', array());
    $theme_settings['toggle_node_info_page'] = FALSE;
    variable_set('theme_settings', $theme_settings);

    // Admin theme.
    variable_set('admin_theme', 'rubik');

	  </pre>
	</div>

	<div class="slide small">
	  <pre class="brush: php">
	      if ($task == 'profile') {
   // Insert default user-defined node types into the database. For a complete
    // list of available node type attributes, refer to the node type API
    // documentation at: http://api.drupal.org/api/HEAD/function/hook_node_info.
    $types = array(
      array(
        'type' => 'page',
        'name' => st('Page'),
        'module' => 'node',
        'description' => st("A <em>page</em> is a simple method for creating and displaying information that rarely changes, such as an \"Abo
ut us\" section of a website. By default, a <em>page</em> entry does not allow visitor comments and is not featured on the site's initial hom
e page."),
        'custom' => TRUE,
        'modified' => TRUE,
        'locked' => FALSE,
        'help' => '',
        'min_word_count' => '',
      ),
    );

    foreach ($types as $type) {
      $type = (object) _node_type_set_defaults($type);
      node_type_save($type);
    }

    // Default page to not be promoted, and have comments disabled, and create new revisions.
    variable_set('node_options_page', array('status', 'revision'));
    variable_set('comment_page', COMMENT_NODE_DISABLED);

    // Don't display date and author information for page nodes by default.
    $theme_settings = variable_get('theme_settings', array());
    $theme_settings['toggle_node_info_page'] = FALSE;
    variable_set('theme_settings', $theme_settings);

    // Admin theme.
    variable_set('admin_theme', 'rubik');

	  </pre>
	  <div class="xout">X</div>
	</div>

	<div class="slide">
	  <h1>Profiler library</h1>
	  <h4><a href="http://drupal.org/project/profiler">http://drupal.org/project/profiler</a></h4>
	</div>

	<div class="slide">
	  <h1>Enable modules</h1>
	  <pre class="brush: bash">
	    dependencies[] = foobar
	    dependencies[] = custom_feature
	  </pre>
	</div>

	<div class="slide">
	  <h1>Set variables</h1>
	  <pre class="brush: bash">
	    variables[site_name] = My Awesome Site
	    variables[site_frontpage] = welcome
	  </pre>
	</div>

	<div class="slide">
	  <h1>Declare a base profile</h1>
	  <pre class="brush: bash">
	    base = my_base_profile
	  </pre>
	</div>

	<div class="slide">
	  <h1>Create users, nodes, and run install hooks</h1>
	  <pre class="brush: bash">
	    ; Create an administrative user
users[admin][uid] = 1
users[admin][name] = Administrator
users[admin][mail] = webmaster@example.com
users[admin][roles] = administrator
users[admin][status] = 1

; About page.
nodes[about][type] = page
nodes[about][title] = About My Site
nodes[about][body] = Placeholder content for the about page.
nodes[about][uid] = 1
nodes[about][menu][link_title] = About
nodes[about][menu][menu_name] = primary-links
nodes[about][path] = about
	  </pre>


	  <h4>(Has a very verbose and helpful README.txt)</h4>
	</div>

	<div class="slide big">
	  <h1>Putting it all together</h1>
	</div>

	<div class="slide big">
	  <h1>Questions?</h1>
	</div>

	<div class="slide big">
	  <h1>Thank you</h1>
	  <ul>
	    <li>Presentation made with HTML, JS, CSS and the slippy library (<a href="http://slides.seld.be">http://slides.seld.be</a>)</li>
	    <li>Slides available at <a href="http://github.com/jhedstrom/pnwds2010-presentation">http://github.com/jhedstrom/pnwds2010-presentation</a></li>
	    </ul>
	</div>

        <div class="layout nochrome" name="default">
	  <div class="vcenter">
            <content></content>
	  </div>
        </div>
    </body>
</html>
